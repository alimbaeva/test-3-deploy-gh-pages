(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{8552:function(t,e,r){var n=r(852)(r(5639),"DataView");t.exports=n},1989:function(t,e,r){var n=r(1789),o=r(401),i=r(7667),u=r(1327),a=r(1866);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=u,c.prototype.set=a,t.exports=c},8407:function(t,e,r){var n=r(7040),o=r(4125),i=r(2117),u=r(7518),a=r(4705);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=u,c.prototype.set=a,t.exports=c},7071:function(t,e,r){var n=r(852)(r(5639),"Map");t.exports=n},3369:function(t,e,r){var n=r(4785),o=r(1285),i=r(6e3),u=r(9916),a=r(5265);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=u,c.prototype.set=a,t.exports=c},3818:function(t,e,r){var n=r(852)(r(5639),"Promise");t.exports=n},8525:function(t,e,r){var n=r(852)(r(5639),"Set");t.exports=n},8668:function(t,e,r){var n=r(3369),o=r(619),i=r(2385);function u(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}u.prototype.add=u.prototype.push=o,u.prototype.has=i,t.exports=u},6384:function(t,e,r){var n=r(8407),o=r(7465),i=r(3779),u=r(7599),a=r(4758),c=r(4309);function s(t){var e=this.__data__=new n(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=u,s.prototype.has=a,s.prototype.set=c,t.exports=s},2705:function(t,e,r){var n=r(5639).Symbol;t.exports=n},1149:function(t,e,r){var n=r(5639).Uint8Array;t.exports=n},577:function(t,e,r){var n=r(852)(r(5639),"WeakMap");t.exports=n},4963:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i}},4636:function(t,e,r){var n=r(2545),o=r(5694),i=r(1469),u=r(4144),a=r(5776),c=r(6719),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),f=!r&&o(t),l=!r&&!f&&u(t),p=!r&&!f&&!l&&c(t),v=r||f||l||p,h=v?n(t.length,String):[],d=h.length;for(var _ in t)(e||s.call(t,_))&&!(v&&("length"==_||l&&("offset"==_||"parent"==_)||p&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||a(_,d)))&&h.push(_);return h}},2488:function(t){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},2908:function(t){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},8470:function(t,e,r){var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return -1}},1078:function(t,e,r){var n=r(2488),o=r(7285);t.exports=function t(e,r,i,u,a){var c=-1,s=e.length;for(i||(i=o),a||(a=[]);++c<s;){var f=e[c];r>0&&i(f)?r>1?t(f,r-1,i,u,a):n(a,f):u||(a[a.length]=f)}return a}},8866:function(t,e,r){var n=r(2488),o=r(1469);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},4239:function(t,e,r){var n=r(2705),o=r(9607),i=r(2333),u=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?o(t):i(t)}},9454:function(t,e,r){var n=r(4239),o=r(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},939:function(t,e,r){var n=r(2492),o=r(7005);t.exports=function t(e,r,i,u,a){return e===r||(null!=e&&null!=r&&(o(e)||o(r))?n(e,r,i,u,t,a):e!=e&&r!=r)}},2492:function(t,e,r){var n=r(6384),o=r(7114),i=r(8351),u=r(6096),a=r(4160),c=r(1469),s=r(4144),f=r(6719),l="[object Arguments]",p="[object Array]",v="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,d,_,b){var y=c(t),x=c(e),g=y?p:a(t),j=x?p:a(e);g=g==l?v:g,j=j==l?v:j;var m=g==v,O=j==v,w=g==j;if(w&&s(t)){if(!s(e))return!1;y=!0,m=!1}if(w&&!m)return b||(b=new n),y||f(t)?o(t,e,r,d,_,b):i(t,e,g,r,d,_,b);if(!(1&r)){var A=m&&h.call(t,"__wrapped__"),z=O&&h.call(e,"__wrapped__");if(A||z){var D=A?t.value():t,S=z?e.value():e;return b||(b=new n),_(D,S,r,d,b)}}return!!w&&(b||(b=new n),u(t,e,r,d,_,b))}},8458:function(t,e,r){var n=r(3560),o=r(5346),i=r(3218),u=r(346),a=/^\[object .+?Constructor\]$/,c=Object.prototype,s=Function.prototype.toString,f=c.hasOwnProperty,l=RegExp("^"+s.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?l:a).test(u(t))}},8749:function(t,e,r){var n=r(4239),o=r(1780),i=r(7005),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!u[n(t)]}},280:function(t,e,r){var n=r(5726),o=r(6916),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},2545:function(t){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},7561:function(t,e,r){var n=r(7990),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},1717:function(t){t.exports=function(t){return function(e){return t(e)}}},4757:function(t){t.exports=function(t,e){return t.has(e)}},4429:function(t,e,r){var n=r(5639)["__core-js_shared__"];t.exports=n},7114:function(t,e,r){var n=r(8668),o=r(2908),i=r(4757);t.exports=function(t,e,r,u,a,c){var s=1&r,f=t.length,l=e.length;if(f!=l&&!(s&&l>f))return!1;var p=c.get(t),v=c.get(e);if(p&&v)return p==e&&v==t;var h=-1,d=!0,_=2&r?new n:void 0;for(c.set(t,e),c.set(e,t);++h<f;){var b=t[h],y=e[h];if(u)var x=s?u(y,b,h,e,t,c):u(b,y,h,t,e,c);if(void 0!==x){if(x)continue;d=!1;break}if(_){if(!o(e,function(t,e){if(!i(_,e)&&(b===t||a(b,t,r,u,c)))return _.push(e)})){d=!1;break}}else if(!(b===y||a(b,y,r,u,c))){d=!1;break}}return c.delete(t),c.delete(e),d}},8351:function(t,e,r){var n=r(2705),o=r(1149),i=r(7813),u=r(7114),a=r(8776),c=r(1814),s=n?n.prototype:void 0,f=s?s.valueOf:void 0;t.exports=function(t,e,r,n,s,l,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!l(new o(t),new o(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var v=a;case"[object Set]":var h=1&n;if(v||(v=c),t.size!=e.size&&!h)break;var d=p.get(t);if(d)return d==e;n|=2,p.set(t,e);var _=u(v(t),v(e),n,s,l,p);return p.delete(t),_;case"[object Symbol]":if(f)return f.call(t)==f.call(e)}return!1}},6096:function(t,e,r){var n=r(8234),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,u,a){var c=1&r,s=n(t),f=s.length;if(f!=n(e).length&&!c)return!1;for(var l=f;l--;){var p=s[l];if(!(c?p in e:o.call(e,p)))return!1}var v=a.get(t),h=a.get(e);if(v&&h)return v==e&&h==t;var d=!0;a.set(t,e),a.set(e,t);for(var _=c;++l<f;){var b=t[p=s[l]],y=e[p];if(i)var x=c?i(y,b,p,e,t,a):i(b,y,p,t,e,a);if(!(void 0===x?b===y||u(b,y,r,i,a):x)){d=!1;break}_||(_="constructor"==p)}if(d&&!_){var g=t.constructor,j=e.constructor;g!=j&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j)&&(d=!1)}return a.delete(t),a.delete(e),d}},1957:function(t,e,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8234:function(t,e,r){var n=r(8866),o=r(9551),i=r(3674);t.exports=function(t){return n(t,i,o)}},5050:function(t,e,r){var n=r(4674);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},852:function(t,e,r){var n=r(8458),o=r(7801);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},9607:function(t,e,r){var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var o=u.call(t);return n&&(e?t[a]=r:delete t[a]),o}},9551:function(t,e,r){var n=r(4963),o=r(479),i=Object.prototype.propertyIsEnumerable,u=Object.getOwnPropertySymbols,a=u?function(t){return null==t?[]:n(u(t=Object(t)),function(e){return i.call(t,e)})}:o;t.exports=a},4160:function(t,e,r){var n=r(8552),o=r(7071),i=r(3818),u=r(8525),a=r(577),c=r(4239),s=r(346),f="[object Map]",l="[object Promise]",p="[object Set]",v="[object WeakMap]",h="[object DataView]",d=s(n),_=s(o),b=s(i),y=s(u),x=s(a),g=c;(n&&g(new n(new ArrayBuffer(1)))!=h||o&&g(new o)!=f||i&&g(i.resolve())!=l||u&&g(new u)!=p||a&&g(new a)!=v)&&(g=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?s(r):"";if(n)switch(n){case d:return h;case _:return f;case b:return l;case y:return p;case x:return v}return e}),t.exports=g},7801:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},1789:function(t,e,r){var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:function(t,e,r){var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},1327:function(t,e,r){var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},1866:function(t,e,r){var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},7285:function(t,e,r){var n=r(2705),o=r(5694),i=r(1469),u=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(u&&t&&t[u])}},5776:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},4674:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:function(t,e,r){var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},5726:function(t){var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},7040:function(t){t.exports=function(){this.__data__=[],this.size=0}},4125:function(t,e,r){var n=r(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},2117:function(t,e,r){var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7518:function(t,e,r){var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},4705:function(t,e,r){var n=r(8470);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},4785:function(t,e,r){var n=r(1989),o=r(8407),i=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:function(t,e,r){var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:function(t,e,r){var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:function(t,e,r){var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:function(t,e,r){var n=r(5050);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},8776:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}},4536:function(t,e,r){var n=r(852)(Object,"create");t.exports=n},6916:function(t,e,r){var n=r(5569)(Object.keys,Object);t.exports=n},1167:function(t,e,r){t=r.nmd(t);var n=r(1957),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,u=i&&i.exports===o&&n.process,a=function(){try{var t=i&&i.require&&i.require("util").types;if(t)return t;return u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=a},2333:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:function(t){t.exports=function(t,e){return function(r){return t(e(r))}}},5639:function(t,e,r){var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},619:function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:function(t){t.exports=function(t){return this.__data__.has(t)}},1814:function(t){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},7465:function(t,e,r){var n=r(8407);t.exports=function(){this.__data__=new n,this.size=0}},3779:function(t){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},7599:function(t){t.exports=function(t){return this.__data__.get(t)}},4758:function(t){t.exports=function(t){return this.__data__.has(t)}},4309:function(t,e,r){var n=r(8407),o=r(7071),i=r(3369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var u=r.__data__;if(!o||u.length<199)return u.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(u)}return r.set(t,e),this.size=r.size,this}},346:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:function(t){var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},3279:function(t,e,r){var n=r(3218),o=r(7771),i=r(4841),u=Math.max,a=Math.min;t.exports=function(t,e,r){var c,s,f,l,p,v,h=0,d=!1,_=!1,b=!0;if("function"!=typeof t)throw TypeError("Expected a function");function y(e){var r=c,n=s;return c=s=void 0,h=e,l=t.apply(n,r)}function x(t){var r=t-v,n=t-h;return void 0===v||r>=e||r<0||_&&n>=f}function g(){var t,r,n,i=o();if(x(i))return j(i);p=setTimeout(g,(t=i-v,r=i-h,n=e-t,_?a(n,f-r):n))}function j(t){return(p=void 0,b&&c)?y(t):(c=s=void 0,l)}function m(){var t,r=o(),n=x(r);if(c=arguments,s=this,v=r,n){if(void 0===p)return h=t=v,p=setTimeout(g,e),d?y(t):l;if(_)return clearTimeout(p),p=setTimeout(g,e),y(v)}return void 0===p&&(p=setTimeout(g,e)),l}return e=i(e)||0,n(r)&&(d=!!r.leading,f=(_="maxWait"in r)?u(i(r.maxWait)||0,e):f,b="trailing"in r?!!r.trailing:b),m.cancel=function(){void 0!==p&&clearTimeout(p),h=0,c=v=s=p=void 0},m.flush=function(){return void 0===p?l:j(o())},m}},7813:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},2348:function(t,e,r){var n=r(1078),o=1/0;t.exports=function(t){return(null==t?0:t.length)?n(t,o):[]}},5694:function(t,e,r){var n=r(9454),o=r(7005),i=Object.prototype,u=i.hasOwnProperty,a=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&u.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},1469:function(t){var e=Array.isArray;t.exports=e},8612:function(t,e,r){var n=r(3560),o=r(1780);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},4144:function(t,e,r){t=r.nmd(t);var n=r(5639),o=r(5062),i=e&&!e.nodeType&&e,u=i&&t&&!t.nodeType&&t,a=u&&u.exports===i?n.Buffer:void 0,c=a?a.isBuffer:void 0;t.exports=c||o},8446:function(t,e,r){var n=r(939);t.exports=function(t,e){return n(t,e)}},3560:function(t,e,r){var n=r(4239),o=r(3218);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},4293:function(t){t.exports=function(t){return null==t}},3218:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},3448:function(t,e,r){var n=r(4239),o=r(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},6719:function(t,e,r){var n=r(8749),o=r(1717),i=r(1167),u=i&&i.isTypedArray,a=u?o(u):n;t.exports=a},3674:function(t,e,r){var n=r(4636),o=r(280),i=r(8612);t.exports=function(t){return i(t)?n(t):o(t)}},7771:function(t,e,r){var n=r(5639);t.exports=function(){return n.Date.now()}},479:function(t){t.exports=function(){return[]}},5062:function(t){t.exports=function(){return!1}},3493:function(t,e,r){var n=r(3279),o=r(3218);t.exports=function(t,e,r){var i=!0,u=!0;if("function"!=typeof t)throw TypeError("Expected a function");return o(r)&&(i="leading"in r?!!r.leading:i,u="trailing"in r?!!r.trailing:u),n(t,e,{leading:i,maxWait:e,trailing:u})}},4841:function(t,e,r){var n=r(7561),o=r(3218),i=r(3448),u=0/0,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,f=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return u;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=c.test(t);return r||s.test(t)?f(t.slice(2),r?2:8):a.test(t)?u:+t}},6840:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(6814)}])},9771:function(t,e,r){"use strict";r.d(e,{DY:function(){return i},Nf:function(){return a},Yp:function(){return o},f4:function(){return u},yc:function(){return n}});let n=288,o=464,i=4,u=100,a=2048},2590:function(t,e,r){"use strict";r.d(e,{G:function(){return g},Z:function(){return j}});for(var n,o=r(5893),i=r(7294),u=r(4293),a=r.n(u),c=r(3493),s=r.n(c),f=r(9771),l=r(2348),p=r.n(l),v=r(8446),h=r.n(v),d=256,_=[];d--;)_[d]=(d+256).toString(16).substring(1);function b(){let t=[];for(let e=0;e<f.DY;e+=1)t[e]=Array(f.DY).fill(void 0);return t}let y={board:b(),tiles:{},tilesByIds:[],hasChanged:!1,score:0,status:"ongoing"};function x(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"clean_up":{let e=p()(t.board).reduce((e,r)=>a()(r)?e:{...e,[r]:t.tiles[r]},{});return{...t,tiles:e,tilesByIds:Object.keys(e),hasChanged:!1}}case"create_tile":{let r=function(t){var e=0;if(!n||d+11>512)for(n="",d=0;e<256;e++)n+=_[256*Math.random()|0];return n.substring(d,d+++11)}(),[o,i]=e.tile.position,u=JSON.parse(JSON.stringify(t.board));return u[i][o]=r,{...t,board:u,tiles:{...t.tiles,[r]:{id:r,...e.tile}},tilesByIds:[...t.tilesByIds,r]}}case"move_up":{let e=b(),r={},n=!1,{score:o}=t;for(let i=0;i<f.DY;i++){let u,c=0;for(let s=0;s<f.DY;s++){let f=t.board[s][i],l=t.tiles[f];if(!a()(f)){if((null==u?void 0:u.value)===l.value){o+=2*u.value,r[u.id]={...u,value:2*u.value},r[f]={...l,position:[i,c-1]},u=void 0,n=!0;continue}e[c][i]=f,r[f]={...l,position:[i,c]},u=r[f],h()(l.position,[i,c])||(n=!0),c++}}}return{...t,board:e,tiles:r,hasChanged:n,score:o}}case"move_down":{let e=b(),r={},n=!1,{score:o}=t;for(let i=0;i<f.DY;i++){let u,c=f.DY-1;for(let s=f.DY-1;s>=0;s--){let f=t.board[s][i],l=t.tiles[f];if(!a()(f)){if((null==u?void 0:u.value)===l.value){o+=2*u.value,r[u.id]={...u,value:2*u.value},r[f]={...l,position:[i,c+1]},u=void 0,n=!0;continue}e[c][i]=f,r[f]={...l,position:[i,c]},u=r[f],h()(l.position,[i,c])||(n=!0),c--}}}return{...t,board:e,tiles:r,hasChanged:n,score:o}}case"move_left":{let e=b(),r={},n=!1,{score:o}=t;for(let i=0;i<f.DY;i++){let u,c=0;for(let s=0;s<f.DY;s++){let f=t.board[i][s],l=t.tiles[f];if(!a()(f)){if((null==u?void 0:u.value)===l.value){o+=2*u.value,r[u.id]={...u,value:2*u.value},r[f]={...l,position:[c-1,i]},u=void 0,n=!0;continue}e[i][c]=f,r[f]={...l,position:[c,i]},u=r[f],h()(l.position,[c,i])||(n=!0),c++}}}return{...t,board:e,tiles:r,hasChanged:n,score:o}}case"move_right":{let e=b(),r={},n=!1,{score:o}=t;for(let i=0;i<f.DY;i++){let u,c=f.DY-1;for(let s=f.DY-1;s>=0;s--){let f=t.board[i][s],l=t.tiles[f];if(!a()(f)){if((null==u?void 0:u.value)===l.value){o+=2*u.value,r[u.id]={...u,value:2*u.value},r[f]={...l,position:[c+1,i]},u=void 0,n=!0;continue}e[i][c]=f,r[f]={...t.tiles[f],position:[c,i]},u=r[f],h()(l.position,[c,i])||(n=!0),c--}}}return{...t,board:e,tiles:r,hasChanged:n,score:o}}case"reset_game":return y;case"update_status":return{...t,status:e.status};default:return t}}let g=(0,i.createContext)({score:0,status:"ongoing",moveTiles:t=>{},getTiles:()=>[],startGame:()=>{}});function j(t){let{children:e}=t,[r,n]=(0,i.useReducer)(x,y),u=()=>{let t=[];for(let e=0;e<f.DY;e++)for(let n=0;n<f.DY;n++)a()(r.board[n][e])&&t.push([e,n]);return t},c=()=>{let t=u();if(t.length>0){let e=Math.floor(Math.random()*t.length);n({type:"create_tile",tile:{position:t[e],value:2}})}},l=(0,i.useCallback)(s()(t=>n({type:t}),1.05*f.f4,{trailing:!1}),[n]),p=()=>{if(Object.values(r.tiles).filter(t=>t.value===f.Nf).length>0){n({type:"update_status",status:"won"});return}let{tiles:t,board:e}=r,o=f.DY-1;for(let n=0;n<o;n+=1)for(let i=0;i<o;i+=1)if(a()(r.board[n][i])||a()(r.board[n+1][i])||a()(r.board[n][i+1])||t[e[n][i]].value===t[e[n+1][i]].value||t[e[n][i]].value===t[e[n][i+1]].value)return;n({type:"update_status",status:"lost"})};return(0,i.useEffect)(()=>{r.hasChanged&&setTimeout(()=>{n({type:"clean_up"}),c()},f.f4)},[r.hasChanged]),(0,i.useEffect)(()=>{r.hasChanged||p()},[r.hasChanged]),(0,o.jsx)(g.Provider,{value:{score:r.score,status:r.status,getTiles:()=>r.tilesByIds.map(t=>r.tiles[t]),moveTiles:l,startGame:()=>{n({type:"reset_game"}),n({type:"create_tile",tile:{position:[0,1],value:2}}),n({type:"create_tile",tile:{position:[0,2],value:2}})}},children:e})}},6814:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return i}});var n=r(5893),o=r(2590);function i(t){let{Component:e,pageProps:r}=t;return(0,n.jsx)(o.Z,{children:(0,n.jsx)(e,{...r})})}r(9311)},9311:function(){}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],function(){return e(6840),e(9090)}),_N_E=t.O()}]);